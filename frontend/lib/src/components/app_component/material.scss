@import "package:sw_project/src/style/theming/theming.scss";
@import "package:sw_project/src/style/style.scss";

@mixin material-theme($theme) {

  $primary: map-get($theme, primary);
  $background: map-get($theme, background);

  material-input {
    .focused-underline {
      background-color: get-color($primary, A700);
    }

    .focused.label-text:not(.disabled) {
      color: get-color($primary, 400);
    }
  }

  material-chip {
    background-color: get-color($background, 400);

    .delete-icon {
      fill: get-color($background, 600);
    }
  }

  material-chip:hover {
    cursor: pointer;
    background-color: get-color($background, 300);

    .delete-icon {
      fill: get-color($background, 500);
    }
  }

  material-button {
    color: get-color-font($primary, 500);

    &:not([icon]) {
      background-color: get-color($primary, 500);
    }

    &[transparent] {
      background-color: transparent;
      color: get-color($primary, 500);

      &[disabled] {
        color: #6c6c6c;
      }
    }
  }

  material-header {
    background-color: get-color($primary);
  }

  material-progress {
    .progress-container.indeterminate {
      background-color: get-color($primary, 100);
    }

    .progress-container.indeterminate > .secondary-progress {
      background-color: get-color($primary, 500);
    }

    .active-progress {
      background-color: get-color($primary, 500);
    }

    .secondary-progress {
      background-color: get-color($primary, 200) !important;
    }
  }

  header.material-header {
    position: fixed;
    background-color: get-color($primary);
  }

  material-content {
    min-height: 100vh;
    background-color: get-color($background, 400);
  }

  material-list {
    background-color: get-color($background, 200);

    material-select-item {
      color: get-color-font($background, 200);
    }

    material-select-item:hover {
      background: get-color($background, 300);
    }

    material-select-item:focus {
      background: get-color($background, 200);
    }

    material-select-item.special {
      color: get-color($primary, 400);

      i {
        color: get-color($primary, 400);
      }
    }

    material-select-item.selected {
      background: get-color($background, 400);

      .selected-accent {
        background: get-color($background, 600);
      }
    }
  }

  material-list.dark {
    background-color: get-color($background, 500);

    material-select-item {
      color: get-color-font($background, 500);
    }

    material-select-item:hover {
      background-color: get-color($background, 600);
    }

    material-select-item:focus {
      background-color: get-color($background, 500);
    }

    material-select-item.special {
      background-color: get-color($background, 700);

      i {
        color: get-color($primary, 700);
      }
    }

    material-select-item.selected {
      background-color: get-color($background, 700);

      .selected-accent {
        background: get-color($background, 900);
      }
    }
  }

  material-tab-panel {
    material-tab-strip {
      .tab-indicator {
        background: get-color($primary, 400);
      }

      tab-button.active {
        color: get-color($primary, 400);
      }
    }
  }

  material-expansionpanel {
    .panel {
      background-color: get-color($background, 400);
      border-radius: 5px;

      i {
        color: get-color($primary, A700);
      }
    }

    .panel.open,
    .header.closed:not(.is-disabled):hover,
    .header.closed:not(.is-disabled):focus,
    .panel.open:not(.is-disabled):hover,
    .panel.open:not(.is-disabled):focus {
      background-color: get-color($background, 300);
      border-radius: 5px;
    }
  }

  material-spinner {
    border-color: get-color($primary, 400);
  }

  material-fab[mini] {
    color: get-color($background, 200);
    background-color: get-color($primary, 500);
  }

  material-stepper {

    span.stepper-step-index {
      &[active=true], &[complete=true] {
        background-color: get-color($primary, 400);
      }
    }

  }

  material-toggle {
    .material-toggle.checked:not(.disabled) .tgl-bar {
      background-color: get-color($primary) !important;
    }

    .material-toggle.checked .tgl-btn {
      background-color: get-color($primary) !important;
    }

    .tgl-btn-underlay.under-focus.under-checked {
      background-color: rgba(get-color($primary), 0.24);
    }
  }

  .mdc-card {
    background-color: get-color($background, 200);
  }

  material-checkbox:not(.disabled) .icon-container .icon.filled {
    color: get-color($primary, 400);
  }

  material-drawer {
    .drawer-content {
      background-color: get-color($background, 200) !important;
    }
  }

  date-range-editor {
    background: get-color($background, 100);

    material-calendar-picker .month {
      background: get-color($background, 100);
    }

    .highlight.highlight-range::before {
      background: get-color($primary, 200);
    }

    .boundary.highlight.highlight-range:not(.active):not(.hover)::after {
      background: get-color($primary, 200);
    }

    .right.right-range::before {
      border-right-color: get-color($primary, 200);
    }

    .left.left-range::before {
      border-left-color: get-color($primary, 200);
    }

    .boundary.boundary-range.active:not(.hover)::after {
      background: get-color($primary, 500);
    }

    .boundary.boundary-range.active:not(.hover) {
      color: get-color-font($primary, 500);
    }

    .range material-input.active .focused-underline:not(.invalid) {
      background-color: get-color($primary, 500) !important;
    }

    .day-slot.right.right-preview::before {
      box-shadow: inset -18px 0 0 get-color($background, 100) !important;
    }

    .day-slot.left.left-preview::before {
      box-shadow: inset 18px 0 0 get-color($background, 100) !important;
    }

  }

  .apply-bar {
    background: get-color($background, 100) !important;

    material-button {
      background: transparent;
      color: get-color($primary, 500);
    }
  }

  .acx-overlay-container {
    font-family: $font-family;
  }

}