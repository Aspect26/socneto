<div class="mdc-card job-list-card">
    <h2>Your jobs</h2>
    <material-list focusList>
        <material-select-item (trigger)="onCreateNewJob($event)" class="special">
            <material-icon icon="add" class="material-list-item-primary" aria-hidden="true"></material-icon>
            Create Job
        </material-select-item>

        <material-select-item *ngFor="let job of displayedJobs" (trigger)="selectJob(job)" focusItem [selected]="job == selectedJob">
            <material-icon *ngIf="job.finished" icon="check" class="material-list-item-primary" aria-hidden="true"></material-icon>
            <material-icon *ngIf="!job.finished" icon="loop" class="material-list-item-primary" aria-hidden="true"></material-icon>

            <div>
                <b>{{job.name}}</b> <br>
                Created at: {{ getHumanReadableDate(job.startedAt) }} <br>
                <span *ngIf="!job.finished" class="secondary">
                    In progress for {{ getProcessingTime(job) }}
                </span>
            </div>

        </material-select-item>
    </material-list>

    <div class="paginator">
        <paginator *ngIf="jobs.length > PAGE_SIZE" [pages]="1" [paginator]="paginator" (pageChange)="onPageChange($event)"></paginator>
    </div>
</div>

<create-job-modal (submit)="onCreateJobSubmit($event)"></create-job-modal>
