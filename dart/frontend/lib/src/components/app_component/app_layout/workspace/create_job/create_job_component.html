<section>
    <div class="mdc-card mdc-card create-job-card">
        <h3>Create new job</h3>

        <div>
            Title:
            <material-input
                    label="Name of the job"
                    floatingLabel
                    [(ngModel)]="jobName"
                    class="labeled-input title-input">
            </material-input>
        </div>

        <div>
            Topic:
            <material-input
                    label="The topic to be queried"
                    floatingLabel
                    [(ngModel)]="topic"
                    class="labeled-input title-input">
            </material-input>
        </div>

        Social Networks:
        <components-select
                [components]="availableSocialNetworks"
                [loading]="loadingSocialNetworks"
                (change)="onSocialNetworksSelectionChange($event)"
                (refresh)="onSocialNetworksRefresh()">
        </components-select>

        Data analyzers:
        <components-select
                [components]="availableDataAnalyzers"
                [loading]="loadingDataAnalyzers"
                (change)="onDataAnalyzersSelectionChange($event)"
                (refresh)="onDataAnalyzersRefresh()">
        </components-select>

        <div>
            Number of posts:
            <material-input
                    label="Max"
                    type="number"
                    floatingLabel
                    [disabled]="unlimitedPostsCount"
                    [(ngModel)]="maxPostsCount"
                    class="labeled-input">
            </material-input>

            <material-checkbox label="Unlimited" [(ngModel)]="unlimitedPostsCount"></material-checkbox>
        </div>

        <div>
            Data acquisition interval: <material-checkbox label="Continuous" [(ngModel)]="isContinuous"></material-checkbox>

            <div *ngIf="isContinuous">
                <material-date-time-picker
                        [(dateTime)]="dateFrom"
                        [required]="true"
                        class="labeled-input">
                </material-date-time-picker>
            </div>

            <div *ngIf="!isContinuous">
                <material-date-range-picker
                        [(range)]="dateRange"
                        [supportsComparison]="false"
                        [showNextPrevButtons]="false"
                        class="labeled-input">
                </material-date-range-picker>

                Time from:
                <material-time-picker [(time)]="timeFrom"
                                      [required]="true"
                                      class="labeled-input">
                </material-time-picker>

                Time to:
                <material-time-picker [(time)]="timeTo"
                                      [required]="true"
                                      class="labeled-input">
                </material-time-picker>
            </div>
        </div>


        <material-button *ngIf="isQueryValid()"  raised (trigger)="onSubmit($event)" class="submit-button">Submit</material-button>
        <material-button *ngIf="!isQueryValid()" raised disabled class="submit-button">Submit</material-button>
    </div>
</section>